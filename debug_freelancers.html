<!DOCTYPE html>
<html>
<head>
    <title>Debug Freelancers</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .freelancer-card { border: 1px solid #ccc; padding: 10px; margin: 10px 0; }
        .debug { background: #f0f0f0; padding: 10px; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>Debug Freelancers Loading</h1>
    <div id="debug-info" class="debug"></div>
    <div id="freelancers-container"></div>

    <script>
        // Debug function to load freelancers
        async function debugLoadFreelancers() {
            const debugDiv = document.getElementById('debug-info');
            const container = document.getElementById('freelancers-container');
            
            debugDiv.innerHTML = 'Starting to load freelancers...';
            
            try {
                debugDiv.innerHTML += '<br>Making API request...';
                const response = await fetch('/api/accounts/freelancer-profiles/');
                debugDiv.innerHTML += `<br>Response status: ${response.status}`;
                
                if (response.ok) {
                    const freelancers = await response.json();
                    debugDiv.innerHTML += `<br>Loaded ${freelancers.length} freelancers`;
                    debugDiv.innerHTML += `<br>First freelancer: ${JSON.stringify(freelancers[0], null, 2)}`;
                    
                    // Simple display
                    container.innerHTML = freelancers.map(f => `
                        <div class="freelancer-card">
                            <h3>${f.user?.first_name || 'Unknown'} ${f.user?.last_name || ''}</h3>
                            <p>Skills: ${f.skills || 'None listed'}</p>
                            <p>Rate: $${f.hourly_rate || 'N/A'}/hr</p>
                        </div>
                    `).join('');
                } else {
                    debugDiv.innerHTML += `<br>Error: ${response.status}`;
                    const text = await response.text();
                    debugDiv.innerHTML += `<br>Response: ${text}`;
                }
            } catch (error) {
                debugDiv.innerHTML += `<br>Exception: ${error.message}`;
                console.error('Error:', error);
            }
        }
        
        // Load when page loads
        document.addEventListener('DOMContentLoaded', debugLoadFreelancers);
    </script>
</body>
</html>
